import java.util.Scanner;
import javafx.application.Application;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.layout.StackPane;
import javafx.stage.Stage;

/**
 *
 * @author Ty Lucas
 */
public class SuperCalcGUI extends Application {
    
    @Override
    public void start(Stage primaryStage) {
        //Button 1
        Button rs = new Button();
        rs.setText("Reimann Sums");
        rs.setOnAction(new EventHandler<ActionEvent>() {
            
            @Override
            public void handle(ActionEvent event) {
                String func;
                int iterations;
                double lowerBound;
                double upperBound;
                System.out.println("Input equation you want to use, with x as variable followed by lower bound, upper bound, and number of iterations");
                System.out.println("ex: 2*x,1,3,4");
                //usrInput = "f(x)=" + SuperCalc.getNext() + "; intg(f," + SuperCalc.getNextDouble() + "," + SuperCalc.getNextDouble() + ")";
                //usrInput = "@(x)" + SuperCalc.getNextLine();
                func = "@(x)" + SuperCalc.getNext();
                System.out.println(func);
                lowerBound = SuperCalc.getNextDouble();
                System.out.println(lowerBound);
                upperBound = SuperCalc.getNextDouble();
                System.out.println(upperBound);
                iterations = SuperCalc.getNextInt();
                System.out.println(iterations);
                NumericalIntegral integ = new NumericalIntegral(lowerBound, upperBound, iterations, func);
                System.out.println("Simpson: "  + integ.findSimpsonIntegral());
                System.out.println("Trapezoid: "  + integ.findTrapezoidalIntegral());
                usrInput = SuperCalc.getNextLine();
                System.out.println(expr.getExpression());
            }
        });
        //Button 2
        Button Derivatives = new Button();
        Derivatives.setText("Derivatives");
        rs.setOnAction(new EventHandler<ActionEvent>() {
            
            @Override
            public void handle(ActionEvent event) {
                Scanner scnr = new Scanner (System.in);
                String usrInput;
                System.out.println("Input equation you want to derive, with x as variable");
                System.out.println("You can input just the equation or provide a lower/upper bound");
                System.out.println("ex: x^3");
                System.out.println("ex: x^3,1,3");
                usrInput = "diff(@(x)" + scnr.nextLine() + ")";
                expr.setExpression(usrInput);
                System.out.println("result: " + expr.solve());
                usrInput = scnr.nextLine();
            }
        });
        //Button 3
        Button Algebra = new Button();
        Derivatives.setText("Algebra");
        rs.setOnAction(new EventHandler<ActionEvent>() {
            
            @Override
            public void handle(ActionEvent event) {
                //MathExpression expr = new MathExpression(ReimannSumm.getNextLine());
                System.out.println("Input Algebraic Expression");
                expr.setExpression(ReimannSumm.getNextLine());
                System.out.println("result: " + expr.solve());
                usrInput = ReimannSumm.getNextLine();
            }
        });
        //Button 4
        Button Integrals = new Button();
        Integrals.setText("Integrals");
        Integrals.setOnAction(new EventHandler<ActionEvent>() {
            
            @Override
            public void handle(ActionEvent event) {
                //example "f(x)=2*x; intg(f,1,3)"
                System.out.println("Input equation you want to integrate, with x as variable followed by lower and upper bound");
                System.out.println("ex: 2*x,1,3");
                //usrInput = "f(x)=" + SuperCalc.getNext() + "; intg(f," + SuperCalc.getNextDouble() + "," + SuperCalc.getNextDouble() + ")";
                usrInput = "intg(@(x)" + SuperCalc.getNextLine() + ")";
                expr.setExpression(usrInput);
                System.out.println("result: " + expr.solve());
                usrInput = SuperCalc.getNextLine();
            }
        });
        
        StackPane root = new StackPane();
        root.getChildren().add(rs);
        root.getChildren().add(Derivatives);
        root.getChildren().add(Algebra);
        Scene scene = new Scene(root, 300, 250);
        
        primaryStage.setTitle("Hello World!");
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        launch(args);
    }
    
}
